<core:FragmentDefinition
	xmlns="sap.m"
	xmlns:l="sap.ui.layout"
	xmlns:f="sap.ui.layout.form"
	xmlns:core="sap.ui.core">
	<VBox 
		id='fFormEdit'
		class="sapUiSmallMargin"
		validateFieldGroup='validateFieldGroupMaterial'>
		
		<f:Form
			editable="true">
			<f:title>
				<core:Title text="{i18n>ttlEditMode}" />
			</f:title>
			<f:layout>
				<f:ResponsiveGridLayout
					labelSpanXL="4"
					labelSpanL="4"
					labelSpanM="12"
					labelSpanS="12"
					adjustLabelSpan="false"
					emptySpanXL="0"
					emptySpanL="0"
					emptySpanM="0"
					emptySpanS="0"
					columnsXL="2"
					columnsL="2"
					columnsM="1"
					singleContainerFullSize="false" />
			</f:layout>
			<f:formContainers>
				<f:FormContainer title="{i18n>ttlText}">
					<f:formElements>
						<f:FormElement label="{i18n>lMaterialText}">
							<f:fields>
								<Input
									required="true"
									id='iFormMaterialText'
									fieldGroupIds='formInput'
                                    enabled="{= ${objectView>/editMode} &amp;&amp; ${MaterialText} !== '' || null || undefined}"
                                    maxLength="128"
                                    width="240px"
                                    value="{MaterialText}"/>
							</f:fields>
						</f:FormElement>
						<f:FormElement label="{i18n>lMaterialDescription}">
							<f:fields>
								<Input
									required="true"
									id='iFormMaterialDescription'
									fieldGroupIds='formInput'
                                    enabled="{= ${objectView>/editMode} &amp;&amp; ${MaterialDescription} !== '' || null || undefined}"
                                    width="240px"
                                    maxLength="256"
                                    value="{MaterialDescription}"/>
							</f:fields>
						</f:FormElement>
						<f:FormElement label="{i18n>ttlMaterialRating}">
							<Input
								required="true"
								id='iFormMaterialRating'
								fieldGroupIds='formInputRating'
								enabled="{= ${objectView>/editMode} &amp;&amp; ${Rating} !== '' || null || undefined}"
								width="15em"
								visible="{= ${objectView>/editMode}}"
								value="{path: 'Rating', type: 'sap.ui.model.odata.type.Decimal', constraints: {precision: '3', scale: '2'}}"/> 
						</f:FormElement>
					</f:formElements>
				</f:FormContainer>
                <f:FormContainer title="{i18n>ttlGroupsInfo}">
					<f:formElements>
						 <f:FormElement label="{i18n>lGroupText}">
							<f:fields>
								<Select
									id='sFormMaterialGroupText'
									required="true"
                                    forceSelection="false"
                                    selectedKey="{GroupID}"
                                    width="240px"
									fieldGroupIds='formSelect'
									items="{
										path: '/zjblessons_base_Groups',
										sorter: {
											path: 'GroupText',
											descending: true
										},
										filters: {
											path: 'GroupText',
											operator: 'NE',
											value1: null
										}
									}"
									>
									<core:Item
										key="{GroupID}"
										text="{GroupText}"
									/>
							    </Select>
							</f:fields>
						</f:FormElement>
						<f:FormElement label="{i18n>lSubGroupText}">
							<f:fields>
								<Select
									required="true"
									id='sFormMaterialSubGroupText'
                                    selectedKey="{SubGroupID}"
                                    forceSelection="false"
                                    width="240px"
									fieldGroupIds='formSelect'
									items="{
										path: '/zjblessons_base_SubGroups',
										sorter: {
											path: 'SubGroupText',
											descending: true
										}
									}"
                                >
									<core:Item
										key="{SubGroupID}"
										text="{SubGroupText}"
									>
										
									</core:Item>
							    </Select>
							</f:fields>
						</f:FormElement>
					</f:formElements>
				</f:FormContainer>
				<f:FormContainer title="{i18n>ttlCreationInfo}">
					<f:formElements>
						<f:FormElement label="{i18n>lCreated}">
							<f:fields>
								<Text text="{Created}" />
							</f:fields>
						</f:FormElement>
						<f:FormElement label="{i18n>lCreatedBy}">
							<f:fields>
								<Text text="{
									parts: ['CreatedByFullName'],
									formatter: '.formatter.nameFormatter'
								}"/>
							</f:fields>
						</f:FormElement>
						<f:FormElement label="{i18n>lModified}">
							<f:fields>
								<Text text="{Modified}"/>
							</f:fields>
						</f:FormElement>
						<f:FormElement label="{i18n>lModifiedBy}">
							<f:fields>
								<Text text="{
									parts: ['ModifiedByFullName', 'Modified'],
									formatter: '.formatter.modifiedFormatter'
								}" />
							</f:fields>
						</f:FormElement>
					</f:formElements>
				</f:FormContainer>
			</f:formContainers>
		</f:Form>
	</VBox>
</core:FragmentDefinition>